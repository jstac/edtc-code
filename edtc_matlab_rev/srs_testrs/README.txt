Listing 6.1 is divided into two functions, update and sample_path.
In order to run testsrs_rev1, you need, in the same folder, m files for the two functions, update and sample_path.